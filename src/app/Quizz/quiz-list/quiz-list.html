<section class="max-w-4xl mx-auto p-6 bg-white shadow rounded">
  <h2 class="text-2xl font-bold mb-4 text-gray-800">Quiz</h2>

  <div *ngIf="loading" class="text-blue-500">Loading...</div>
  <div *ngIf="errorMessage" class="text-red-600">{{ errorMessage }}</div>

  <ng-container *ngIf="quiz && !loading && !errorMessage">
    <!-- Metadata -->
    <p class="mb-4 text-gray-600">{{ quiz.instructions }}</p>

    <!--  Handle no questions -->
    <div *ngIf="quiz.questionResponses?.length === 0" class="bg-yellow-50 border border-yellow-300 text-yellow-800 p-4 rounded">
      No questions have been added to this quiz yet.
    </div>

    <!-- Questions -->
    <div *ngFor="let q of quiz.questionResponses; let i = index"
         class="mb-6 p-4 border rounded bg-gray-50">
      <h3 class="font-semibold text-gray-800">
        Question {{ i + 1 }}: {{ q.questionText }}
      </h3>
      <p class="text-sm text-gray-500">{{ q.type }} â€¢ {{ q.points }} points</p>

      <ul class="mt-2 space-y-2">
        <li *ngFor="let opt of q.optionResponses" class="flex items-center gap-2">
          <input
            [type]="q.type === 'SINGLE_CHOICE' ? 'radio' : 'checkbox'"
            [name]="'q' + q.id"
            [checked]="opt.correct"
            disabled
          />
          <span>{{ opt.optionText }}</span>
        </li>
      </ul>

      <p *ngIf="q.explanation" class="text-xs text-gray-500 mt-2">
        ðŸ’¡ {{ q.explanation }}
      </p>
    </div>
  </ng-container>
</section>
