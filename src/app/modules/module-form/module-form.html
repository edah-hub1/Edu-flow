<div class="bg-white shadow rounded-2xl p-6 max-w-2xl mx-auto">
  <h3 class="text-xl font-semibold text-gray-800 mb-6">Create Module</h3>

  <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-5">
    <!-- Title -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
      <input
        formControlName="title"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
      />
      @if (form.get('title')?.invalid && form.get('title')?.touched) {
      <p class="mt-1 text-sm text-red-600">Title is required.</p>
      }
    </div>

    <!-- Description -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
      <textarea
        formControlName="description"
        rows="4"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
      ></textarea>
      @if (form.get('description')?.invalid && form.get('description')?.touched) {
      <p class="mt-1 text-sm text-red-600">Description is required.</p>
      }
    </div>

    <!-- Order & Course ID -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Order</label>
        <input
          type="number"
          formControlName="order"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        />
        @if (form.get('order')?.invalid && form.get('order')?.touched) {
        <p class="mt-1 text-sm text-red-600">Order must be a number greater than 0.</p>
        }
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Course ID</label>
        <input
          type="number"
          formControlName="courseId"
          readonly
          class="w-full px-3 py-2 border border-gray-300 bg-gray-100 rounded-lg shadow-sm text-gray-500"
        />
      </div>
    </div>

    <!-- General error -->
    @if (errorMessage) {
    <div class="bg-red-100 text-red-700 px-4 py-2 rounded-lg">
      {{ errorMessage }}
    </div>
    }

    <!--  Buttons -->

    <div class="flex justify-between items-center mt-6">
      <!-- Cancel button -->
<a
  [routerLink]="['/courses', form.get('courseId')?.value, 'modules']"
  class="px-6 py-2 text-center rounded font-medium shadow 
         bg-red-600 text-white hover:bg-red-700 transition 
         flex items-center justify-center no-underline"
>
  Cancel
</a>


      <!-- Create button -->
      <button
        type="submit"
        [disabled]="form.invalid || isSubmitting"
        class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded"
      >
        @if (!isSubmitting) {
        <span>Create</span>
        } @else {
        <span>Creating...</span>
        }
      </button>
    </div>
  </form>
</div>
