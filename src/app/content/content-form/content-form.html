<!-- src/app/content/content-form/content-form.html -->
<div class="card p-6 max-w-2xl mx-auto">
  <h3 class="text-xl font-semibold mb-4">Create Content</h3>

  <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-4">
    <div>
      <label class="block mb-1">Title</label>
      <input formControlName="title" class="w-full p-2 border rounded"/>
    </div>

    <div>
      <label class="block mb-1">Description</label>
      <textarea formControlName="description" class="w-full p-2 border rounded"></textarea>
    </div>

    <div>
      <label class="block mb-1">Type</label>
      <select formControlName="type" class="w-full p-2 border rounded">
        <option value="VIDEO">Video</option>
        <option value="PDF">PDF</option>
        <option value="ARTICLE">Article</option>
        <option value="QUIZ">Quiz</option>
      </select>
    </div>

    <div *ngIf="form.get('type')?.value === 'VIDEO' || form.get('type')?.value === 'PDF'">
      <label class="block mb-1">Resource URL</label>
      <input formControlName="resourceUrl" class="w-full p-2 border rounded"/>
    </div>

    <div *ngIf="form.get('type')?.value === 'ARTICLE'">
      <label class="block mb-1">Article</label>
      <textarea formControlName="articleContent" rows="8" class="w-full p-2 border rounded"></textarea>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <label class="block mb-1">Order in Module</label>
        <input formControlName="orderInModule" type="number" class="w-full p-2 border rounded"/>
      </div>
      <div>
        <label class="block mb-1">Module ID</label>
        <input formControlName="moduleId" type="number" class="w-full p-2 border rounded" readonly/>
      </div>
    </div>

    <div class="flex items-center gap-2">
      <input type="checkbox" formControlName="mandatory"/>
      <label>Mandatory</label>
    </div>

    <div class="flex justify-between mt-4">
      <button type="button" (click)="cancel()" class="px-4 py-2 bg-gray-400 text-white rounded">Cancel</button>
      <button type="submit" [disabled]="isSubmitting" class="px-4 py-2 bg-blue-600 text-white rounded">
        {{ isSubmitting ? 'Saving...' : 'Save Content' }}
      </button>
    </div>
  </form>

  <div *ngIf="errorMessage" class="mt-3 text-red-600">{{ errorMessage }}</div>
</div>
