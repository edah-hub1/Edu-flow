<section class="p-6 max-w-4xl mx-auto">
  <h2 class="text-2xl font-bold mb-4 text-gray-800">
    Contents for Module {{ moduleId }}
  </h2>

  <!-- Loading -->
  <div *ngIf="loading" class="text-blue-500">Loading contents...</div>

  <!-- Error -->
  <div *ngIf="errorMessage" class="bg-red-100 text-red-700 p-3 rounded mb-4">
    {{ errorMessage }}
  </div>

  <!-- Content list -->
  <ul *ngIf="!loading && !errorMessage && contents.length > 0" class="space-y-3">
    <li *ngFor="let c of contents" class="p-4 bg-white shadow rounded-lg border flex flex-col gap-1">
      <div class="flex justify-between items-center">
        <span class="font-semibold text-gray-800">
          {{ c.orderInModule }}. {{ c.title }}
        </span>
        <span class="px-2 py-1 text-xs rounded bg-gray-200 text-gray-700">
          {{ c.type }}
        </span>
      </div>
      <p class="text-sm text-gray-600">{{ c.description }}</p>

      <!-- Resource link -->
      <a
        *ngIf="c.type === 'PDF' || c.type === 'VIDEO'"
        [href]="c.resourceUrl"
        target="_blank"
        class="text-blue-600 hover:underline text-sm"
      >
        Open Resource
      </a>

      <!-- Quiz section -->
      <a
        *ngIf="c.type === 'QUIZ' && !c.quizId"
        [routerLink]="[
          '/courses',
          courseId,
          'modules',
          moduleId,
          'contents',
          c.id,
          'questions'
        ]"
        class="text-indigo-600 text-sm font-medium hover:underline mt-2"
      >
        ‚ûï Add Questions
      </a>

      <a
        *ngIf="c.type === 'QUIZ' && c.quizId"
        [routerLink]="[
          '/courses',
          courseId,
          'modules',
          moduleId,
          'contents',
          c.id,
          'quiz',
          c.quizId,
          'view'
        ]"
        class="text-green-600 text-sm font-medium hover:underline mt-2"
      >
        üëÄ View Questions
      </a>

      <!-- Article content -->
      <p *ngIf="c.type === 'ARTICLE'" class="text-xs text-gray-500 mt-1">
        {{ c.articleContent }}
      </p>
    </li>
  </ul>

  <!-- Empty State -->
  <div *ngIf="!loading && !errorMessage && contents.length === 0"
       class="bg-gray-50 text-gray-600 p-4 rounded text-center">
    No contents found for this module.
  </div>

  <!-- Action buttons -->
  <div class="flex justify-between mt-4">
    <!-- Back to all modules -->
    <a
      [routerLink]="['/courses', courseId, 'modules']"
      class="ml-8 px-4 py-2 bg-gray-600 no-underline text-white rounded-lg shadow hover:bg-gray-700 transition"
    >
      ‚Üê All Modules
    </a>

    <!-- Add new quiz content -->
    <button
      (click)="addQuizContent()"
      class="px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700 transition"
    >
      + Add Quiz
    </button>
  </div>
</section>
