<div class="container mt-4">
  @if (profileForm) {
    <h2 class="mb-3">My Profile</h2>

    <form [formGroup]="profileForm" (ngSubmit)="saveProfile()">
      <mat-form-field appearance="outline" class="w-100 mb-3">
        <mat-label>First Name</mat-label>
        <input matInput formControlName="firstName">
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-100 mb-3">
        <mat-label>Last Name</mat-label>
        <input matInput formControlName="lastName">
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-100 mb-3">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" [disabled]="true">
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-100 mb-3">
        <mat-label>New Password</mat-label>
        <input matInput type="password" formControlName="password">
      </mat-form-field>

      <button mat-raised-button color="primary" class="mt-3" [disabled]="profileForm.invalid">
        Save Changes
      </button>
         <button 
        mat-raised-button 
        color="primary" 
        class="mt-3" 
        [disabled]="profileForm.invalid || saving">
        {{ saving ? 'Saving...' : 'Save Changes' }}
        </button>

    </form>
  }
</div>
